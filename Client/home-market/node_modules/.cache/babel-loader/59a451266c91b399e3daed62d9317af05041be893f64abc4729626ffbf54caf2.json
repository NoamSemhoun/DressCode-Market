{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport contextProvider from './Context';\nimport { useContext, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { callServer } from './util';\nexport function useLoginOut(url) {\n  _s();\n  const {\n    loggedUser,\n    setLoggedUser\n  } = useContext(contextProvider);\n  const navigate = useNavigate();\n  const login = async user => {\n    const {\n      data\n    } = await callServer(url, 'post', user, 'user');\n    // console.log(data)\n\n    if (!user.error) {\n      setLoggedUser(data);\n      navigate('/');\n      return true;\n    }\n    return false;\n  };\n  const logout = () => {\n    setLoggedUser(null);\n  };\n  return {\n    login,\n    logout,\n    loggedUser\n  };\n}\n_s(useLoginOut, \"DoaQPWJHhl2/ydMSPngmnktnS4s=\", false, function () {\n  return [useNavigate];\n});\nexport function useForm() {\n  _s2();\n  const [formFilesData, setFormFilesData] = useState(new FormData());\n  const [formData, setFormData] = useState({});\n\n  // Handler for handling form input changes\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n\n  // Handler for handling file input changes\n  const handleFileChange = event => {\n    const {\n      name,\n      files\n    } = event.target;\n\n    // For file fields, you need to loop through files and append them to the form data\n    for (let i = 0; i < files.length; i++) {\n      formFilesData.append(name, files[i]);\n    }\n    setFormFilesData(formData);\n  };\n  return {\n    handleInputChange,\n    handleFileChange,\n    formData,\n    formFilesData\n  };\n}\n_s2(useForm, \"6Zy/CITBBR7cpQUkEc+HGEhltYg=\");\nexport function useLocalStorage(key) {\n  _s3();\n  let initialValue = localStorage.getItem(key);\n  initialValue = initialValue ? JSON.parse(initialValue) : '';\n  const [data, setData] = useState(initialValue);\n  // Save user data to localStorage\n\n  const setValue = value => {\n    localStorage.setItem(key, JSON.stringify(value));\n    setData(value);\n  };\n  return [data, setValue];\n}\n_s3(useLocalStorage, \"SZcWqoITTdQ97jQvG0iszQ5CKUM=\");","map":{"version":3,"names":["contextProvider","useContext","useState","useNavigate","callServer","useLoginOut","url","_s","loggedUser","setLoggedUser","navigate","login","user","data","error","logout","useForm","_s2","formFilesData","setFormFilesData","FormData","formData","setFormData","handleInputChange","event","name","value","target","handleFileChange","files","i","length","append","useLocalStorage","key","_s3","initialValue","localStorage","getItem","JSON","parse","setData","setValue","setItem","stringify"],"sources":["C:/Users/33768/Desktop/Full Stack/PROJECT/FINAL/Home-Market-Full-Stack-FINAL/Client/home-market/src/Hooks.jsx"],"sourcesContent":["import contextProvider from './Context';\r\nimport { useContext, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { callServer } from './util';\r\n\r\nexport function useLoginOut(url){\r\n\r\n    const {loggedUser, setLoggedUser} = useContext(contextProvider);\r\n    const navigate = useNavigate();\r\n\r\n    const login = async (user) =>{\r\n        const {data} = await callServer(url,'post',user,'user');\r\n        // console.log(data)\r\n\r\n        if (!user.error){\r\n            setLoggedUser(data);\r\n            navigate('/');\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    const logout = () =>{\r\n        setLoggedUser(null);\r\n    }\r\n\r\n    return {login,logout,loggedUser};\r\n}\r\n\r\n\r\nexport function useForm(){\r\n    const [formFilesData,setFormFilesData] = useState(new FormData());\r\n    const [formData,setFormData] = useState({})\r\n\r\n\r\n    // Handler for handling form input changes\r\n    const handleInputChange = (event) => {\r\n        const { name, value } = event.target;\r\n        setFormData({ ...formData, [name]: value });\r\n    };\r\n\r\n\r\n    // Handler for handling file input changes\r\n    const handleFileChange = (event) => {\r\n        const { name, files } = event.target;\r\n\r\n        // For file fields, you need to loop through files and append them to the form data\r\n        for (let i = 0; i < files.length; i++) {\r\n            formFilesData.append(name, files[i]);\r\n        }\r\n        setFormFilesData(formData);\r\n\r\n    };\r\n\r\n    return {handleInputChange,handleFileChange,formData,formFilesData}\r\n}\r\n\r\n\r\nexport function useLocalStorage(key){\r\n    let initialValue = localStorage.getItem(key);\r\n    initialValue = initialValue ? JSON.parse(initialValue) : '';\r\n    \r\n    const [data,setData] = useState(initialValue);\r\n    // Save user data to localStorage\r\n\r\n    const setValue = (value)=>{\r\n        localStorage.setItem(key, JSON.stringify(value));\r\n        setData(value)\r\n    }\r\n\r\n    return [data,setValue];\r\n}"],"mappings":";;;AAAA,OAAOA,eAAe,MAAM,WAAW;AACvC,SAASC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AAC5C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,UAAU,QAAQ,QAAQ;AAEnC,OAAO,SAASC,WAAWA,CAACC,GAAG,EAAC;EAAAC,EAAA;EAE5B,MAAM;IAACC,UAAU;IAAEC;EAAa,CAAC,GAAGR,UAAU,CAACD,eAAe,CAAC;EAC/D,MAAMU,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAE9B,MAAMQ,KAAK,GAAG,MAAOC,IAAI,IAAI;IACzB,MAAM;MAACC;IAAI,CAAC,GAAG,MAAMT,UAAU,CAACE,GAAG,EAAC,MAAM,EAACM,IAAI,EAAC,MAAM,CAAC;IACvD;;IAEA,IAAI,CAACA,IAAI,CAACE,KAAK,EAAC;MACZL,aAAa,CAACI,IAAI,CAAC;MACnBH,QAAQ,CAAC,GAAG,CAAC;MACb,OAAO,IAAI;IACf;IACA,OAAO,KAAK;EAChB,CAAC;EAED,MAAMK,MAAM,GAAGA,CAAA,KAAK;IAChBN,aAAa,CAAC,IAAI,CAAC;EACvB,CAAC;EAED,OAAO;IAACE,KAAK;IAACI,MAAM;IAACP;EAAU,CAAC;AACpC;AAACD,EAAA,CAtBeF,WAAW;EAAA,QAGNF,WAAW;AAAA;AAsBhC,OAAO,SAASa,OAAOA,CAAA,EAAE;EAAAC,GAAA;EACrB,MAAM,CAACC,aAAa,EAACC,gBAAgB,CAAC,GAAGjB,QAAQ,CAAC,IAAIkB,QAAQ,CAAC,CAAC,CAAC;EACjE,MAAM,CAACC,QAAQ,EAACC,WAAW,CAAC,GAAGpB,QAAQ,CAAC,CAAC,CAAC,CAAC;;EAG3C;EACA,MAAMqB,iBAAiB,GAAIC,KAAK,IAAK;IACjC,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,KAAK,CAACG,MAAM;IACpCL,WAAW,CAAC;MAAE,GAAGD,QAAQ;MAAE,CAACI,IAAI,GAAGC;IAAM,CAAC,CAAC;EAC/C,CAAC;;EAGD;EACA,MAAME,gBAAgB,GAAIJ,KAAK,IAAK;IAChC,MAAM;MAAEC,IAAI;MAAEI;IAAM,CAAC,GAAGL,KAAK,CAACG,MAAM;;IAEpC;IACA,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,KAAK,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;MACnCZ,aAAa,CAACc,MAAM,CAACP,IAAI,EAAEI,KAAK,CAACC,CAAC,CAAC,CAAC;IACxC;IACAX,gBAAgB,CAACE,QAAQ,CAAC;EAE9B,CAAC;EAED,OAAO;IAACE,iBAAiB;IAACK,gBAAgB;IAACP,QAAQ;IAACH;EAAa,CAAC;AACtE;AAACD,GAAA,CAzBeD,OAAO;AA4BvB,OAAO,SAASiB,eAAeA,CAACC,GAAG,EAAC;EAAAC,GAAA;EAChC,IAAIC,YAAY,GAAGC,YAAY,CAACC,OAAO,CAACJ,GAAG,CAAC;EAC5CE,YAAY,GAAGA,YAAY,GAAGG,IAAI,CAACC,KAAK,CAACJ,YAAY,CAAC,GAAG,EAAE;EAE3D,MAAM,CAACvB,IAAI,EAAC4B,OAAO,CAAC,GAAGvC,QAAQ,CAACkC,YAAY,CAAC;EAC7C;;EAEA,MAAMM,QAAQ,GAAIhB,KAAK,IAAG;IACtBW,YAAY,CAACM,OAAO,CAACT,GAAG,EAAEK,IAAI,CAACK,SAAS,CAAClB,KAAK,CAAC,CAAC;IAChDe,OAAO,CAACf,KAAK,CAAC;EAClB,CAAC;EAED,OAAO,CAACb,IAAI,EAAC6B,QAAQ,CAAC;AAC1B;AAACP,GAAA,CAbeF,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}